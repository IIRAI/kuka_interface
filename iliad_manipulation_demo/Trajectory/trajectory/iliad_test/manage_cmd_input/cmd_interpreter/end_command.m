%% END_COMMAND reset the iliad_test.slx parameter to the default values
% this script is called when the `end` command is executed in the
% iliad_test command line

global pose_left_def pose_right_def

%% deactivate command loop flag
ask_command = 0;

%% reset to default value
set_param('iliad_test/enable','Value', '0');
set_param('iliad_test/Icode',  'Value', '0');
set_param('iliad_test/pose_left', 'Value',...
          sprintf('[%f;%f;%f;%f;%f;%f]', pose_left_def(1),pose_left_def(2),...
                                         pose_left_def(3),pose_left_def(4),...
                                         pose_left_def(5),pose_left_def(6))...
         );
set_param('iliad_test/pose_right', 'Value',...
          sprintf('[%f;%f;%f;%f;%f;%f]', pose_right_def(1),pose_right_def(2),...
                                         pose_right_def(3),pose_right_def(4),...
                                         pose_right_def(5),pose_right_def(6))...
         );
set_param('iliad_test/object_pose', 'Value',...
          sprintf('[%f;%f;%f]', 0.4, 0, 0)...
         );

%% closing output
disp(' ')
disp('-------------------------------------------------------')
disp('Now CLOSE the `iliad_test.slx` and RUN `iliad_test_end`');
disp('-------------------------------------------------------')